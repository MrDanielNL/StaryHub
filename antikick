-- Safe and Compatible Anti-Kick Script (No NIL Errors)
local Players = game:GetService("Players")
local player = Players.LocalPlayer

-- Wait until player is loaded
while not player do
    task.wait()
    player = Players.LocalPlayer
end

-- Hook metamethods
local mt = getrawmetatable(game)
setreadonly(mt, false)

local oldNamecall = mt.__namecall
local oldIndex = mt.__index

mt.__namecall = newcclosure(function(self, ...)
    local method = getnamecallmethod()
    
    -- Block attempts to Kick or Destroy
    if method == "Kick" or tostring(self) == "Kick" then
        warn("[AntiKick] Blocked Kick call")
        return nil
    end

    if method == "Destroy" and tostring(self) == tostring(player) then
        warn("[AntiKick] Blocked Destroy call on player")
        return nil
    end

    return oldNamecall(self, ...)
end)

mt.__index = newcclosure(function(self, key)
    -- Block direct Kick index
    if self == player and key == "Kick" then
        warn("[AntiKick] Blocked access to .Kick")
        return function() end
    end
    return oldIndex(self, key)
end)

setreadonly(mt, true)
